<%- header %>

<h2 class="mb-4">Select a Server</h2>

<% if (guilds.length === 0) { %>
  <div class="alert alert-info">
    <i class="bi bi-info-circle"></i>
    No servers found. Make sure the bot is added to a server where you have <strong>Manage Server</strong> permission.
  </div>
<% } else { %>
  <div class="row g-3">
    <% guilds.forEach(guild => { %>
      <div class="col-md-4 col-lg-3">
        <a href="/dashboard/guild/<%= guild.id %>" class="text-decoration-none">
          <div class="card bg-dark border-secondary guild-card h-100">
            <div class="card-body text-center">
              <% if (guild.icon) { %>
                <img src="https://cdn.discordapp.com/icons/<%= guild.id %>/<%= guild.icon %>.png?size=64"
                     class="rounded-circle mb-2" width="64" height="64" alt="icon">
              <% } else { %>
                <div class="guild-icon-placeholder mb-2">
                  <%= guild.name.split(' ').map(w => w[0]).join('').slice(0, 2) %>
                </div>
              <% } %>
              <h6 class="card-title text-light mb-1"><%= guild.name %></h6>
              <small class="text-muted"><%= guild.memberCount %> members</small>
            </div>
          </div>
        </a>
      </div>
    <% }); %>
  </div>
<% } %>

<%- footer %>
